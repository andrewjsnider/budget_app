%div{ class: "max-w-6xl mx-auto px-6 py-10 text-stone-900" }
  %div{ class: "flex items-end justify-between gap-6" }
    %div
      %h1{ class: "text-3xl font-semibold" } Projection
      %p{ class: "mt-2 text-stone-700" }= @account.name

    = form_with url: reports_projection_path(@account), method: :get, class: "flex items-end gap-3" do |f|
      %div
        %label{ class: "block text-sm text-stone-700" } From
        = date_field_tag :from, @from, class: "border border-stone-300 p-2 text-sm"
      %div
        %label{ class: "block text-sm text-stone-700" } To
        = date_field_tag :to, @to, class: "border border-stone-300 p-2 text-sm"
      = f.submit "Go", class: "border border-stone-900 px-4 py-2 text-sm hover:bg-stone-900 hover:text-white"

  %div{ class: "mt-8 grid grid-cols-1 sm:grid-cols-2 gap-4" }
    %div{ class: "border border-stone-200 p-4" }
      %div{ class: "text-sm text-stone-700" } Starting balance
      %div{ class: "mt-1 text-xl font-semibold" }= number_to_currency(@projection.starting_balance_cents / 100.0)

    %div{ class: "border border-stone-200 p-4" }
      %div{ class: "text-sm text-stone-700" } Balance on #{@to}
      %div{ class: "mt-1 text-xl font-semibold" }= number_to_currency(@ending_balance_cents.to_i / 100.0)

  %div{ class: "mt-10 border border-stone-200" }
    %table{ class: "w-full text-sm" }
      %thead
        %tr{ class: "border-b border-stone-200" }
          %th{ class: "p-3 text-left" } Date
          %th{ class: "p-3 text-right" } Balance
      %tbody
        - @daily.each do |date, cents|
          %tr{ class: "border-t border-stone-200" }
            %td{ class: "p-3" }= date
            %td{ class: "p-3 text-right" }= number_to_currency(cents / 100.0)
